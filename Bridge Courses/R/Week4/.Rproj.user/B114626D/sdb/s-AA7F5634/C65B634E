{
    "contents" : "install.packages('hflights')\ninstall.packages('Rcpp')\nrequire(hflights)\nrequire(ggplot2)\nrequire(Rcpp)\nlibrary(dplyr)\ndata(hflights)\nsummary(hflights)\nhead(hflights)\n\n#Question: What appears to cause most departure delays? \n\n#boxplot DepDelay: a lot of outliers\nboxplot(hflights$DepDelay)\n\n#histogram DepDelay: right tail visible to about 200 minutes\nggplot(data = hflights) + geom_histogram(aes(x = DepDelay), bin = 10, fill = 'grey30')\n\n#create a data.frame with data less than 200 minute departure delays and no negatives (departed early)\nhf_depdelay <- hflights[which(hflights$DepDelay < 200 & hflights$DepDelay > 0),  ]\n\n#check summary data again\nsummary(hf_depdelay)\nstr(hf_depdelay)\n\n#check out new histogram\nggplot(data = hf_depdelay) + geom_histogram(aes(x = DepDelay), bin = 10, fill = 'grey30')\n\n#Find some leads by checking correlations among other int variables: \n#ArrDelay has an obvious strong correlation, with weaker correlations among DepTime, ActualElapsedTime, and Airtime \ncor(hf_depdelay$DayofMonth, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$DayOfWeek, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$TaxiIn, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$DepTime, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$ArrTime, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$ActualElapsedTime, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$AirTime, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$ActualElapsedTime, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$ArrDelay, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$Distance, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$TaxiIn, hf_depdelay$DepDelay, use = \"na.or.complete\")\ncor(hf_depdelay$TaxiOut, hf_depdelay$DepDelay, use = \"na.or.complete\")\n\n#Scatterplot of ArrDelay by DepDelay\nggplot(hf_depdelay) + geom_point(aes(x = DepDelay, y = ArrDelay))\n\n#Now check out categorical variables: carrier, destination, and origin\n#Carrier first: there's a few main carriers: Continental, Skywest, Southwest, and ExpressJet\nggplot(data = hf_depdelay) + geom_histogram(aes(x = UniqueCarrier), fill = 'grey30')\n\n#density charts by airline: looks like continental is responsible for many of the delays, considering its size\nggplot(data = hf_depdelay) + geom_density(aes(x=DepDelay, fill = UniqueCarrier)) + facet_wrap(~UniqueCarrier)\n\n#Check out just the main airlines: create a data.frame with only the main carriers\nhf_mcarriers <- hf_depdelay[which(hf_depdelay$UniqueCarrier == 'CO' | hf_depdelay$UniqueCarrier == 'OO' | hf_depdelay$UniqueCarrier == 'WN' | hf_depdelay$UniqueCarrier == 'XE'),  ]\n\n#still only less than 1% of its flights, but continental has a higher percentage of (at least short) departure delays than others\nggplot(data = hf_mcarriers) + geom_density(aes(x=DepDelay, fill = UniqueCarrier)) + facet_wrap(~UniqueCarrier)\n\n#check out delays by destination: there are a lot\nggplot(data = hf_depdelay) + geom_histogram(aes(x = Dest), fill = 'grey30')\n\n#check out just the major destinations (above 2000 trips)\ndest_size %>% count((hf_depdelay$Dest), sort = TRUE)\n\ncount((hf_depdelay$Dest), sort = TRUE)\nggplot(data = hf_depdelay) + geom_density(aes(x=DepDelay, fill = Dest)) + facet_wrap(~Dest)\n\n\ncount(hf_depdelay, hf_depdelay$Dest == \"DFW\" )\n\nstr(hf_depdelay)\n\n\n\n#not that informative, bin the data\n#bin depth data\nhf_mcarriers$delayB10 <- cut_number(hf_mcarriers$DepDelay, 30)\n\nggplot(data = hf_mcarriers) + geom_histogram(aes(x = delayB10), fill = 'grey30') + facet_wrap(~UniqueCarrier)\n\nggplot(hf_mcarriers) + geom_point(aes(x = DepDelay, y = UniqueCarrier, color = DepDelay))\n\nggplot(data = hf_depdelay) + geom_density(aes(x=DepDelay, fill = UniqueCarrier)) + facet_wrap(~UniqueCarrier)\nboxplot(hf_depdelay$ArrDelay)\ncor(hf_depdelay$ArrTime, hf_depdelay$DepDelay, use = \"na.or.complete\")\n\nboxplot(hf_depdelay$AirTime)\n\nggplot(data = hflights) + geom_histogram(aes(x = DepDelay), bin = 10, fill = 'grey30')\ncor(hflights$Month, hflights$DepDelay)\nstr(hflights)\ncor(hflights$AirTime, hflights$Distance)\ncor?\n?cor\nclass(hflights$AirTime)\nhead(hflights$AirTime)\nggplot(hflights) + geom_point(aes(x = UniqueCarrier, y = DepDelay))\nboxplot(hflights$AirTime)\n\n\n\n",
    "created" : 1437772153244.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1523914473",
    "id" : "C65B634E",
    "lastKnownWriteTime" : 1437882100,
    "path" : "C:/Users/Andrew/Desktop/Bridge Courses/R/Final/R-Final-Assignment-AGoldberg.R",
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled3"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}